/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

/*
 * jFLivroCaixa.java
 *
 * Created on 10/08/2014, 13:49:49
 */

package personalfinance;

import java.awt.Dimension;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.text.DecimalFormat;
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.JOptionPane;
import javax.swing.table.DefaultTableModel;
import personalfinance.classes.CentroCusto;
import personalfinance.classes.ClassConecta;
import personalfinance.classes.ComboItem;
import personalfinance.classes.Contas;
import personalfinance.classes.Funcoes;
import personalfinance.classes.LivroCaixa;
import personalfinance.classes.Parcelas;
import personalfinance.classes.Pessoas;

/**
 *
 * @author Luciano Carrafa Benfica
 */
public class jFLivroCaixa extends javax.swing.JDialog {

    /** Creates new form jFLivroCaixa */
    public jFLivroCaixa() {
        initComponents();
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jRadioButton1 = new javax.swing.JRadioButton();
        buttonGroup1 = new javax.swing.ButtonGroup();
        jToolBar1 = new javax.swing.JToolBar();
        atualizarjButton = new javax.swing.JButton();
        abrirCaixajButton = new javax.swing.JButton();
        depositojButton = new javax.swing.JButton();
        saquejButton = new javax.swing.JButton();
        transferenciajButton = new javax.swing.JButton();
        estornarjButton = new javax.swing.JButton();
        jSeparator1 = new javax.swing.JToolBar.Separator();
        sairjButton = new javax.swing.JButton();
        jPanel1 = new javax.swing.JPanel();
        contasjTabbedPane = new javax.swing.JTabbedPane();
        jPanel2 = new javax.swing.JPanel();
        jPanel3 = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        dataLancamentojFormattedTextField = new javax.swing.JFormattedTextField();
        contasjComboBox = new javax.swing.JComboBox();
        cadastrabancojButton = new javax.swing.JButton();
        atualizaBancojButton = new javax.swing.JButton();
        jPanel4 = new javax.swing.JPanel();
        hojejRadioButtonjRadioButton = new javax.swing.JRadioButton();
        esteMesjRadioButtonjRadioButton = new javax.swing.JRadioButton();
        esteAnojRadioButtonjRadioButton = new javax.swing.JRadioButton();
        jLabel2 = new javax.swing.JLabel();
        jLabel6 = new javax.swing.JLabel();
        cadastraPessoajButton = new javax.swing.JButton();
        centrodeCustosjComboBox = new javax.swing.JComboBox();
        atualizaCentroCustojButton = new javax.swing.JButton();
        jPanel5 = new javax.swing.JPanel();
        jScrollPane1 = new javax.swing.JScrollPane();
        gradeLivroCaixajTable = new javax.swing.JTable();
        jPanel6 = new javax.swing.JPanel();
        jLabel3 = new javax.swing.JLabel();
        saldoAtualjFormattedTextField = new javax.swing.JFormattedTextField();
        jButton1 = new javax.swing.JButton();
        jPanel7 = new javax.swing.JPanel();
        jLabel4 = new javax.swing.JLabel();
        jLabel5 = new javax.swing.JLabel();
        saldoAnteriorjFormattedTextField = new javax.swing.JFormattedTextField();
        saldoTotaljFormattedTextField = new javax.swing.JFormattedTextField();
        jPanel8 = new javax.swing.JPanel();
        jPanel9 = new javax.swing.JPanel();
        jToolBar2 = new javax.swing.JToolBar();
        pesquisarjButton = new javax.swing.JButton();
        baixarjButton = new javax.swing.JButton();
        estornarParcelajButton = new javax.swing.JButton();
        jPanel10 = new javax.swing.JPanel();
        jLabel7 = new javax.swing.JLabel();
        anoReferenciajSpinner = new javax.swing.JSpinner();
        mesRefjSpinner = new javax.swing.JSpinner();
        jLabel8 = new javax.swing.JLabel();
        filtroSituacaojComboBox = new javax.swing.JComboBox();
        jLabel9 = new javax.swing.JLabel();
        filtroNaturezajComboBox = new javax.swing.JComboBox();
        jLabel10 = new javax.swing.JLabel();
        pessoaParcelajComboBox = new javax.swing.JComboBox();
        jLabel11 = new javax.swing.JLabel();
        atualizaPessoaParcelajButton = new javax.swing.JButton();
        contasParcelasjComboBox = new javax.swing.JComboBox();
        jLabel12 = new javax.swing.JLabel();
        atualizaContasParcelajButton = new javax.swing.JButton();
        todasPessoasjCheckBox = new javax.swing.JCheckBox();
        todasContasjCheckBox = new javax.swing.JCheckBox();
        jPanel11 = new javax.swing.JPanel();
        jPanel12 = new javax.swing.JPanel();
        jScrollPane2 = new javax.swing.JScrollPane();
        gradeParcelajTable = new javax.swing.JTable();
        jPanel13 = new javax.swing.JPanel();
        observacaoParcelajLabel = new javax.swing.JLabel();
        jLabel14 = new javax.swing.JLabel();
        ValorTotaljFormattedTextField = new javax.swing.JFormattedTextField();

        jRadioButton1.setName("jRadioButton1"); // NOI18N

        setDefaultCloseOperation(javax.swing.WindowConstants.DO_NOTHING_ON_CLOSE);
        org.jdesktop.application.ResourceMap resourceMap = org.jdesktop.application.Application.getInstance(personalfinance.PersonalFinanceApp.class).getContext().getResourceMap(jFLivroCaixa.class);
        setBackground(resourceMap.getColor("Form.background")); // NOI18N
        setName("Form"); // NOI18N
        addWindowListener(new java.awt.event.WindowAdapter() {
            public void windowOpened(java.awt.event.WindowEvent evt) {
                formWindowOpened(evt);
            }
        });

        jToolBar1.setBackground(resourceMap.getColor("jToolBar1.background")); // NOI18N
        jToolBar1.setFloatable(false);
        jToolBar1.setRollover(true);
        jToolBar1.setName("jToolBar1"); // NOI18N

        atualizarjButton.setBackground(resourceMap.getColor("atualizarjButton.background")); // NOI18N
        atualizarjButton.setIcon(resourceMap.getIcon("atualizarjButton.icon")); // NOI18N
        atualizarjButton.setText(resourceMap.getString("atualizarjButton.text")); // NOI18N
        atualizarjButton.setHorizontalTextPosition(javax.swing.SwingConstants.RIGHT);
        atualizarjButton.setName("atualizarjButton"); // NOI18N
        atualizarjButton.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        atualizarjButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                atualizarjButtonActionPerformed(evt);
            }
        });
        jToolBar1.add(atualizarjButton);

        abrirCaixajButton.setBackground(resourceMap.getColor("abrirCaixajButton.background")); // NOI18N
        abrirCaixajButton.setIcon(resourceMap.getIcon("abrirCaixajButton.icon")); // NOI18N
        abrirCaixajButton.setText(resourceMap.getString("abrirCaixajButton.text")); // NOI18N
        abrirCaixajButton.setFocusable(false);
        abrirCaixajButton.setHorizontalTextPosition(javax.swing.SwingConstants.RIGHT);
        abrirCaixajButton.setName("abrirCaixajButton"); // NOI18N
        abrirCaixajButton.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        abrirCaixajButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                abrirCaixajButtonActionPerformed(evt);
            }
        });
        jToolBar1.add(abrirCaixajButton);

        depositojButton.setBackground(resourceMap.getColor("depositojButton.background")); // NOI18N
        depositojButton.setIcon(resourceMap.getIcon("depositojButton.icon")); // NOI18N
        depositojButton.setText(resourceMap.getString("depositojButton.text")); // NOI18N
        depositojButton.setFocusable(false);
        depositojButton.setHorizontalTextPosition(javax.swing.SwingConstants.RIGHT);
        depositojButton.setName("depositojButton"); // NOI18N
        depositojButton.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        depositojButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                depositojButtonActionPerformed(evt);
            }
        });
        jToolBar1.add(depositojButton);

        saquejButton.setBackground(resourceMap.getColor("saquejButton.background")); // NOI18N
        saquejButton.setIcon(resourceMap.getIcon("saquejButton.icon")); // NOI18N
        saquejButton.setText(resourceMap.getString("saquejButton.text")); // NOI18N
        saquejButton.setFocusable(false);
        saquejButton.setHorizontalTextPosition(javax.swing.SwingConstants.RIGHT);
        saquejButton.setName("saquejButton"); // NOI18N
        saquejButton.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        saquejButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                saquejButtonActionPerformed(evt);
            }
        });
        jToolBar1.add(saquejButton);

        transferenciajButton.setBackground(resourceMap.getColor("transferenciajButton.background")); // NOI18N
        transferenciajButton.setIcon(resourceMap.getIcon("transferenciajButton.icon")); // NOI18N
        transferenciajButton.setText(resourceMap.getString("transferenciajButton.text")); // NOI18N
        transferenciajButton.setFocusable(false);
        transferenciajButton.setHorizontalTextPosition(javax.swing.SwingConstants.RIGHT);
        transferenciajButton.setName("transferenciajButton"); // NOI18N
        transferenciajButton.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        transferenciajButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                transferenciajButtonActionPerformed(evt);
            }
        });
        jToolBar1.add(transferenciajButton);

        estornarjButton.setBackground(resourceMap.getColor("estornarjButton.background")); // NOI18N
        estornarjButton.setIcon(resourceMap.getIcon("estornarjButton.icon")); // NOI18N
        estornarjButton.setText(resourceMap.getString("estornarjButton.text")); // NOI18N
        estornarjButton.setFocusable(false);
        estornarjButton.setHorizontalTextPosition(javax.swing.SwingConstants.RIGHT);
        estornarjButton.setName("estornarjButton"); // NOI18N
        estornarjButton.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        estornarjButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                estornarjButtonActionPerformed(evt);
            }
        });
        jToolBar1.add(estornarjButton);

        jSeparator1.setName("jSeparator1"); // NOI18N
        jToolBar1.add(jSeparator1);

        sairjButton.setBackground(resourceMap.getColor("sairjButton.background")); // NOI18N
        sairjButton.setIcon(resourceMap.getIcon("sairjButton.icon")); // NOI18N
        sairjButton.setText(resourceMap.getString("sairjButton.text")); // NOI18N
        sairjButton.setFocusable(false);
        sairjButton.setHorizontalTextPosition(javax.swing.SwingConstants.RIGHT);
        sairjButton.setName("sairjButton"); // NOI18N
        sairjButton.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        sairjButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                sairjButtonActionPerformed(evt);
            }
        });
        jToolBar1.add(sairjButton);

        jPanel1.setBackground(resourceMap.getColor("jPanel1.background")); // NOI18N
        jPanel1.setName("jPanel1"); // NOI18N

        contasjTabbedPane.setForeground(resourceMap.getColor("contasjTabbedPane.foreground")); // NOI18N
        contasjTabbedPane.setName("contasjTabbedPane"); // NOI18N
        contasjTabbedPane.addChangeListener(new javax.swing.event.ChangeListener() {
            public void stateChanged(javax.swing.event.ChangeEvent evt) {
                contasjTabbedPaneStateChanged(evt);
            }
        });

        jPanel2.setBackground(resourceMap.getColor("jPanel2.background")); // NOI18N
        jPanel2.setName("jPanel2"); // NOI18N

        jPanel3.setBackground(resourceMap.getColor("jPanel3.background")); // NOI18N
        jPanel3.setBorder(javax.swing.BorderFactory.createTitledBorder(""));
        jPanel3.setName("jPanel3"); // NOI18N

        jLabel1.setText(resourceMap.getString("jLabel1.text")); // NOI18N
        jLabel1.setName("jLabel1"); // NOI18N

        try {
            dataLancamentojFormattedTextField.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("##/##/####")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        dataLancamentojFormattedTextField.setName("dataLancamentojFormattedTextField"); // NOI18N

        contasjComboBox.setName("contasjComboBox"); // NOI18N
        contasjComboBox.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                contasjComboBoxItemStateChanged(evt);
            }
        });

        cadastrabancojButton.setIcon(resourceMap.getIcon("cadastrabancojButton.icon")); // NOI18N
        cadastrabancojButton.setText(resourceMap.getString("cadastrabancojButton.text")); // NOI18N
        cadastrabancojButton.setToolTipText(resourceMap.getString("cadastrabancojButton.toolTipText")); // NOI18N
        cadastrabancojButton.setContentAreaFilled(false);
        cadastrabancojButton.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        cadastrabancojButton.setName("cadastrabancojButton"); // NOI18N
        cadastrabancojButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cadastrabancojButtonActionPerformed(evt);
            }
        });

        atualizaBancojButton.setIcon(resourceMap.getIcon("atualizaBancojButton.icon")); // NOI18N
        atualizaBancojButton.setText(resourceMap.getString("atualizaBancojButton.text")); // NOI18N
        atualizaBancojButton.setToolTipText(resourceMap.getString("atualizaBancojButton.toolTipText")); // NOI18N
        atualizaBancojButton.setContentAreaFilled(false);
        atualizaBancojButton.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        atualizaBancojButton.setName("atualizaBancojButton"); // NOI18N
        atualizaBancojButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                atualizaBancojButtonActionPerformed(evt);
            }
        });

        jPanel4.setBackground(resourceMap.getColor("jPanel4.background")); // NOI18N
        jPanel4.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        jPanel4.setName("jPanel4"); // NOI18N

        buttonGroup1.add(hojejRadioButtonjRadioButton);
        hojejRadioButtonjRadioButton.setSelected(true);
        hojejRadioButtonjRadioButton.setText(resourceMap.getString("hojejRadioButtonjRadioButton.text")); // NOI18N
        hojejRadioButtonjRadioButton.setToolTipText(resourceMap.getString("hojejRadioButtonjRadioButton.toolTipText")); // NOI18N
        hojejRadioButtonjRadioButton.setActionCommand(resourceMap.getString("hojejRadioButtonjRadioButton.actionCommand")); // NOI18N
        hojejRadioButtonjRadioButton.setName("hojejRadioButtonjRadioButton"); // NOI18N
        hojejRadioButtonjRadioButton.addChangeListener(new javax.swing.event.ChangeListener() {
            public void stateChanged(javax.swing.event.ChangeEvent evt) {
                hojejRadioButtonjRadioButtonStateChanged(evt);
            }
        });

        buttonGroup1.add(esteMesjRadioButtonjRadioButton);
        esteMesjRadioButtonjRadioButton.setText(resourceMap.getString("esteMesjRadioButtonjRadioButton.text")); // NOI18N
        esteMesjRadioButtonjRadioButton.setToolTipText(resourceMap.getString("esteMesjRadioButtonjRadioButton.toolTipText")); // NOI18N
        esteMesjRadioButtonjRadioButton.setActionCommand(resourceMap.getString("esteMesjRadioButtonjRadioButton.actionCommand")); // NOI18N
        esteMesjRadioButtonjRadioButton.setName("esteMesjRadioButtonjRadioButton"); // NOI18N
        esteMesjRadioButtonjRadioButton.addChangeListener(new javax.swing.event.ChangeListener() {
            public void stateChanged(javax.swing.event.ChangeEvent evt) {
                esteMesjRadioButtonjRadioButtonStateChanged(evt);
            }
        });

        buttonGroup1.add(esteAnojRadioButtonjRadioButton);
        esteAnojRadioButtonjRadioButton.setText(resourceMap.getString("esteAnojRadioButtonjRadioButton.text")); // NOI18N
        esteAnojRadioButtonjRadioButton.setToolTipText(resourceMap.getString("esteAnojRadioButtonjRadioButton.toolTipText")); // NOI18N
        esteAnojRadioButtonjRadioButton.setActionCommand(resourceMap.getString("esteAnojRadioButtonjRadioButton.actionCommand")); // NOI18N
        esteAnojRadioButtonjRadioButton.setName("esteAnojRadioButtonjRadioButton"); // NOI18N
        esteAnojRadioButtonjRadioButton.addChangeListener(new javax.swing.event.ChangeListener() {
            public void stateChanged(javax.swing.event.ChangeEvent evt) {
                esteAnojRadioButtonjRadioButtonStateChanged(evt);
            }
        });

        javax.swing.GroupLayout jPanel4Layout = new javax.swing.GroupLayout(jPanel4);
        jPanel4.setLayout(jPanel4Layout);
        jPanel4Layout.setHorizontalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(esteMesjRadioButtonjRadioButton)
                    .addComponent(esteAnojRadioButtonjRadioButton)
                    .addComponent(hojejRadioButtonjRadioButton))
                .addContainerGap(85, Short.MAX_VALUE))
        );
        jPanel4Layout.setVerticalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(hojejRadioButtonjRadioButton)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(esteMesjRadioButtonjRadioButton)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(esteAnojRadioButtonjRadioButton)
                .addContainerGap(13, Short.MAX_VALUE))
        );

        jLabel2.setText(resourceMap.getString("jLabel2.text")); // NOI18N
        jLabel2.setName("jLabel2"); // NOI18N

        jLabel6.setText(resourceMap.getString("jLabel6.text")); // NOI18N
        jLabel6.setName("jLabel6"); // NOI18N

        cadastraPessoajButton.setIcon(resourceMap.getIcon("cadastraPessoajButton.icon")); // NOI18N
        cadastraPessoajButton.setText(resourceMap.getString("cadastraPessoajButton.text")); // NOI18N
        cadastraPessoajButton.setContentAreaFilled(false);
        cadastraPessoajButton.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        cadastraPessoajButton.setName("cadastraPessoajButton"); // NOI18N
        cadastraPessoajButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cadastraPessoajButtonActionPerformed(evt);
            }
        });

        centrodeCustosjComboBox.setName("centrodeCustosjComboBox"); // NOI18N
        centrodeCustosjComboBox.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                centrodeCustosjComboBoxItemStateChanged(evt);
            }
        });

        atualizaCentroCustojButton.setIcon(resourceMap.getIcon("atualizaCentroCustojButton.icon")); // NOI18N
        atualizaCentroCustojButton.setText(resourceMap.getString("atualizaCentroCustojButton.text")); // NOI18N
        atualizaCentroCustojButton.setContentAreaFilled(false);
        atualizaCentroCustojButton.setName("atualizaCentroCustojButton"); // NOI18N
        atualizaCentroCustojButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                atualizaCentroCustojButtonActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);
        jPanel3.setLayout(jPanel3Layout);
        jPanel3Layout.setHorizontalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel6)
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(centrodeCustosjComboBox, javax.swing.GroupLayout.PREFERRED_SIZE, 302, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGroup(jPanel3Layout.createSequentialGroup()
                                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                    .addComponent(dataLancamentojFormattedTextField, javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLabel1, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(contasjComboBox, 0, 308, Short.MAX_VALUE)
                                    .addComponent(jLabel2))))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addGroup(jPanel3Layout.createSequentialGroup()
                                .addComponent(cadastrabancojButton, javax.swing.GroupLayout.PREFERRED_SIZE, 19, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(atualizaBancojButton, javax.swing.GroupLayout.PREFERRED_SIZE, 18, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(jPanel3Layout.createSequentialGroup()
                                .addComponent(cadastraPessoajButton, javax.swing.GroupLayout.PREFERRED_SIZE, 18, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(atualizaCentroCustojButton, 0, 0, Short.MAX_VALUE)))))
                .addGap(226, 226, 226)
                .addComponent(jPanel4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );
        jPanel3Layout.setVerticalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                    .addComponent(jPanel4, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, jPanel3Layout.createSequentialGroup()
                        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addGroup(jPanel3Layout.createSequentialGroup()
                                .addComponent(jLabel1)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(dataLancamentojFormattedTextField, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(jPanel3Layout.createSequentialGroup()
                                .addComponent(jLabel2)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(contasjComboBox, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addComponent(atualizaBancojButton)
                            .addComponent(cadastrabancojButton))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jLabel6)
                        .addGap(1, 1, 1)
                        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(centrodeCustosjComboBox, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(cadastraPessoajButton)
                            .addComponent(atualizaCentroCustojButton))))
                .addContainerGap())
        );

        jPanel5.setBackground(resourceMap.getColor("jPanel5.background")); // NOI18N
        jPanel5.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        jPanel5.setName("jPanel5"); // NOI18N

        jScrollPane1.setName("jScrollPane1"); // NOI18N

        gradeLivroCaixajTable.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "Id#", "Histórico", "Data", "Pessoa", "Valor"
            }
        ) {
            Class[] types = new Class [] {
                java.lang.Integer.class, java.lang.String.class, java.lang.String.class, java.lang.String.class, java.lang.Double.class
            };
            boolean[] canEdit = new boolean [] {
                false, false, false, false, false
            };

            public Class getColumnClass(int columnIndex) {
                return types [columnIndex];
            }

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        gradeLivroCaixajTable.setName("gradeLivroCaixajTable"); // NOI18N
        gradeLivroCaixajTable.getTableHeader().setReorderingAllowed(false);
        gradeLivroCaixajTable.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                gradeLivroCaixajTableMouseClicked(evt);
            }
        });
        jScrollPane1.setViewportView(gradeLivroCaixajTable);
        gradeLivroCaixajTable.getColumnModel().getColumn(0).setResizable(false);
        gradeLivroCaixajTable.getColumnModel().getColumn(0).setPreferredWidth(10);
        gradeLivroCaixajTable.getColumnModel().getColumn(0).setHeaderValue(resourceMap.getString("gradeLivroCaixajTable.columnModel.title0")); // NOI18N
        gradeLivroCaixajTable.getColumnModel().getColumn(1).setResizable(false);
        gradeLivroCaixajTable.getColumnModel().getColumn(1).setPreferredWidth(300);
        gradeLivroCaixajTable.getColumnModel().getColumn(1).setHeaderValue(resourceMap.getString("gradeLivroCaixajTable.columnModel.title1")); // NOI18N
        gradeLivroCaixajTable.getColumnModel().getColumn(2).setResizable(false);
        gradeLivroCaixajTable.getColumnModel().getColumn(2).setPreferredWidth(80);
        gradeLivroCaixajTable.getColumnModel().getColumn(2).setHeaderValue(resourceMap.getString("gradeLivroCaixajTable.columnModel.title2")); // NOI18N
        gradeLivroCaixajTable.getColumnModel().getColumn(3).setResizable(false);
        gradeLivroCaixajTable.getColumnModel().getColumn(3).setPreferredWidth(200);
        gradeLivroCaixajTable.getColumnModel().getColumn(3).setHeaderValue(resourceMap.getString("gradeLivroCaixajTable.columnModel.title3")); // NOI18N
        gradeLivroCaixajTable.getColumnModel().getColumn(4).setResizable(false);
        gradeLivroCaixajTable.getColumnModel().getColumn(4).setPreferredWidth(60);
        gradeLivroCaixajTable.getColumnModel().getColumn(4).setHeaderValue(resourceMap.getString("gradeLivroCaixajTable.columnModel.title4")); // NOI18N

        javax.swing.GroupLayout jPanel5Layout = new javax.swing.GroupLayout(jPanel5);
        jPanel5.setLayout(jPanel5Layout);
        jPanel5Layout.setHorizontalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 842, Short.MAX_VALUE)
                .addContainerGap())
        );
        jPanel5Layout.setVerticalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 267, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jPanel6.setBackground(resourceMap.getColor("jPanel6.background")); // NOI18N
        jPanel6.setName("jPanel6"); // NOI18N

        jLabel3.setText(resourceMap.getString("jLabel3.text")); // NOI18N
        jLabel3.setName("jLabel3"); // NOI18N

        saldoAtualjFormattedTextField.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("#,##0.00"))));
        saldoAtualjFormattedTextField.setText(resourceMap.getString("saldoAtualjFormattedTextField.text")); // NOI18N
        saldoAtualjFormattedTextField.setName("saldoAtualjFormattedTextField"); // NOI18N

        jButton1.setIcon(resourceMap.getIcon("jButton1.icon")); // NOI18N
        jButton1.setText(resourceMap.getString("jButton1.text")); // NOI18N
        jButton1.setName("jButton1"); // NOI18N
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel6Layout = new javax.swing.GroupLayout(jPanel6);
        jPanel6.setLayout(jPanel6Layout);
        jPanel6Layout.setHorizontalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel6Layout.createSequentialGroup()
                .addGap(55, 55, 55)
                .addComponent(jButton1, javax.swing.GroupLayout.PREFERRED_SIZE, 212, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 360, Short.MAX_VALUE)
                .addComponent(jLabel3)
                .addGap(18, 18, 18)
                .addComponent(saldoAtualjFormattedTextField, javax.swing.GroupLayout.PREFERRED_SIZE, 138, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );
        jPanel6Layout.setVerticalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel6Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel3)
                    .addComponent(saldoAtualjFormattedTextField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jButton1))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jPanel7.setBackground(resourceMap.getColor("jPanel7.background")); // NOI18N
        jPanel7.setBorder(javax.swing.BorderFactory.createTitledBorder(null, resourceMap.getString("jPanel7.border.title"), 0, 0, null, resourceMap.getColor("jPanel7.border.titleColor"))); // NOI18N
        jPanel7.setName("jPanel7"); // NOI18N

        jLabel4.setText(resourceMap.getString("jLabel4.text")); // NOI18N
        jLabel4.setName("jLabel4"); // NOI18N

        jLabel5.setText(resourceMap.getString("jLabel5.text")); // NOI18N
        jLabel5.setName("jLabel5"); // NOI18N

        saldoAnteriorjFormattedTextField.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("#,##0.00"))));
        saldoAnteriorjFormattedTextField.setText(resourceMap.getString("saldoAnteriorjFormattedTextField.text")); // NOI18N
        saldoAnteriorjFormattedTextField.setName("saldoAnteriorjFormattedTextField"); // NOI18N

        saldoTotaljFormattedTextField.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("#,##0.00"))));
        saldoTotaljFormattedTextField.setText(resourceMap.getString("saldoTotaljFormattedTextField.text")); // NOI18N
        saldoTotaljFormattedTextField.setName("saldoTotaljFormattedTextField"); // NOI18N

        javax.swing.GroupLayout jPanel7Layout = new javax.swing.GroupLayout(jPanel7);
        jPanel7.setLayout(jPanel7Layout);
        jPanel7Layout.setHorizontalGroup(
            jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel7Layout.createSequentialGroup()
                .addContainerGap(389, Short.MAX_VALUE)
                .addComponent(jLabel5)
                .addGap(18, 18, 18)
                .addComponent(saldoAnteriorjFormattedTextField, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(jLabel4)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(saldoTotaljFormattedTextField, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );
        jPanel7Layout.setVerticalGroup(
            jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel7Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel4)
                    .addComponent(jLabel5)
                    .addComponent(saldoAnteriorjFormattedTextField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(saldoTotaljFormattedTextField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jPanel3, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jPanel5, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jPanel6, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jPanel7, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap())
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, 113, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel6, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel7, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(12, Short.MAX_VALUE))
        );

        contasjTabbedPane.addTab(resourceMap.getString("jPanel2.TabConstraints.tabTitle"), jPanel2); // NOI18N

        jPanel8.setBackground(resourceMap.getColor("jPanel8.background")); // NOI18N
        jPanel8.setName("jPanel8"); // NOI18N

        jPanel9.setBackground(resourceMap.getColor("jPanel9.background")); // NOI18N
        jPanel9.setName("jPanel9"); // NOI18N

        jToolBar2.setBackground(resourceMap.getColor("jToolBar2.background")); // NOI18N
        jToolBar2.setFloatable(false);
        jToolBar2.setRollover(true);
        jToolBar2.setName("jToolBar2"); // NOI18N

        pesquisarjButton.setBackground(resourceMap.getColor("pesquisarjButton.background")); // NOI18N
        pesquisarjButton.setIcon(resourceMap.getIcon("pesquisarjButton.icon")); // NOI18N
        pesquisarjButton.setText(resourceMap.getString("pesquisarjButton.text")); // NOI18N
        pesquisarjButton.setFocusable(false);
        pesquisarjButton.setHorizontalTextPosition(javax.swing.SwingConstants.RIGHT);
        pesquisarjButton.setName("pesquisarjButton"); // NOI18N
        pesquisarjButton.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        pesquisarjButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                pesquisarjButtonActionPerformed(evt);
            }
        });
        jToolBar2.add(pesquisarjButton);

        baixarjButton.setBackground(resourceMap.getColor("baixarjButton.background")); // NOI18N
        baixarjButton.setIcon(resourceMap.getIcon("baixarjButton.icon")); // NOI18N
        baixarjButton.setText(resourceMap.getString("baixarjButton.text")); // NOI18N
        baixarjButton.setFocusable(false);
        baixarjButton.setHorizontalTextPosition(javax.swing.SwingConstants.RIGHT);
        baixarjButton.setName("baixarjButton"); // NOI18N
        baixarjButton.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        baixarjButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                baixarjButtonActionPerformed(evt);
            }
        });
        jToolBar2.add(baixarjButton);

        estornarParcelajButton.setBackground(resourceMap.getColor("estornarParcelajButton.background")); // NOI18N
        estornarParcelajButton.setIcon(resourceMap.getIcon("estornarParcelajButton.icon")); // NOI18N
        estornarParcelajButton.setText(resourceMap.getString("estornarParcelajButton.text")); // NOI18N
        estornarParcelajButton.setFocusable(false);
        estornarParcelajButton.setHorizontalTextPosition(javax.swing.SwingConstants.RIGHT);
        estornarParcelajButton.setName("estornarParcelajButton"); // NOI18N
        estornarParcelajButton.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        jToolBar2.add(estornarParcelajButton);

        jPanel10.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        jPanel10.setName("jPanel10"); // NOI18N

        jLabel7.setText(resourceMap.getString("jLabel7.text")); // NOI18N
        jLabel7.setName("jLabel7"); // NOI18N

        anoReferenciajSpinner.setName("anoReferenciajSpinner"); // NOI18N

        mesRefjSpinner.setName("mesRefjSpinner"); // NOI18N

        jLabel8.setText(resourceMap.getString("jLabel8.text")); // NOI18N
        jLabel8.setName("jLabel8"); // NOI18N

        filtroSituacaojComboBox.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Quitadas", "Em aberto", "Vencidas", "Canceladas", "Todas do Ano", "Todas do Mês" }));
        filtroSituacaojComboBox.setName("filtroSituacaojComboBox"); // NOI18N
        filtroSituacaojComboBox.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                filtroSituacaojComboBoxActionPerformed(evt);
            }
        });

        jLabel9.setText(resourceMap.getString("jLabel9.text")); // NOI18N
        jLabel9.setName("jLabel9"); // NOI18N

        filtroNaturezajComboBox.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "a Pagar" }));
        filtroNaturezajComboBox.setName("filtroNaturezajComboBox"); // NOI18N

        jLabel10.setText(resourceMap.getString("jLabel10.text")); // NOI18N
        jLabel10.setName("jLabel10"); // NOI18N

        pessoaParcelajComboBox.setName("pessoaParcelajComboBox"); // NOI18N
        pessoaParcelajComboBox.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                pessoaParcelajComboBoxActionPerformed(evt);
            }
        });

        jLabel11.setText(resourceMap.getString("jLabel11.text")); // NOI18N
        jLabel11.setName("jLabel11"); // NOI18N

        atualizaPessoaParcelajButton.setIcon(resourceMap.getIcon("atualizaPessoaParcelajButton.icon")); // NOI18N
        atualizaPessoaParcelajButton.setText(resourceMap.getString("atualizaPessoaParcelajButton.text")); // NOI18N
        atualizaPessoaParcelajButton.setContentAreaFilled(false);
        atualizaPessoaParcelajButton.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        atualizaPessoaParcelajButton.setName("atualizaPessoaParcelajButton"); // NOI18N
        atualizaPessoaParcelajButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                atualizaPessoaParcelajButtonActionPerformed(evt);
            }
        });

        contasParcelasjComboBox.setName("contasParcelasjComboBox"); // NOI18N
        contasParcelasjComboBox.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                contasParcelasjComboBoxActionPerformed(evt);
            }
        });

        jLabel12.setText(resourceMap.getString("jLabel12.text")); // NOI18N
        jLabel12.setName("jLabel12"); // NOI18N

        atualizaContasParcelajButton.setIcon(resourceMap.getIcon("atualizaContasParcelajButton.icon")); // NOI18N
        atualizaContasParcelajButton.setText(resourceMap.getString("atualizaContasParcelajButton.text")); // NOI18N
        atualizaContasParcelajButton.setContentAreaFilled(false);
        atualizaContasParcelajButton.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        atualizaContasParcelajButton.setName("atualizaContasParcelajButton"); // NOI18N
        atualizaContasParcelajButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                atualizaContasParcelajButtonActionPerformed(evt);
            }
        });

        todasPessoasjCheckBox.setSelected(true);
        todasPessoasjCheckBox.setText(resourceMap.getString("todasPessoasjCheckBox.text")); // NOI18N
        todasPessoasjCheckBox.setName("todasPessoasjCheckBox"); // NOI18N
        todasPessoasjCheckBox.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                todasPessoasjCheckBoxActionPerformed(evt);
            }
        });

        todasContasjCheckBox.setSelected(true);
        todasContasjCheckBox.setText(resourceMap.getString("todasContasjCheckBox.text")); // NOI18N
        todasContasjCheckBox.setName("todasContasjCheckBox"); // NOI18N
        todasContasjCheckBox.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                todasContasjCheckBoxActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel10Layout = new javax.swing.GroupLayout(jPanel10);
        jPanel10.setLayout(jPanel10Layout);
        jPanel10Layout.setHorizontalGroup(
            jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel10Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(anoReferenciajSpinner, javax.swing.GroupLayout.PREFERRED_SIZE, 59, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel7))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(mesRefjSpinner, javax.swing.GroupLayout.PREFERRED_SIZE, 50, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel8))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(filtroSituacaojComboBox, javax.swing.GroupLayout.PREFERRED_SIZE, 110, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel9))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(filtroNaturezajComboBox, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jLabel10, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addGroup(jPanel10Layout.createSequentialGroup()
                        .addComponent(jLabel11)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(todasPessoasjCheckBox))
                    .addComponent(pessoaParcelajComboBox, javax.swing.GroupLayout.PREFERRED_SIZE, 306, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(atualizaPessoaParcelajButton, javax.swing.GroupLayout.PREFERRED_SIZE, 17, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addGroup(jPanel10Layout.createSequentialGroup()
                        .addComponent(jLabel12)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(todasContasjCheckBox))
                    .addComponent(contasParcelasjComboBox, javax.swing.GroupLayout.PREFERRED_SIZE, 136, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(atualizaContasParcelajButton, javax.swing.GroupLayout.PREFERRED_SIZE, 17, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(29, Short.MAX_VALUE))
        );
        jPanel10Layout.setVerticalGroup(
            jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel10Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel7)
                    .addComponent(jLabel8)
                    .addComponent(jLabel9)
                    .addComponent(jLabel10)
                    .addComponent(jLabel11)
                    .addComponent(jLabel12)
                    .addComponent(todasPessoasjCheckBox)
                    .addComponent(todasContasjCheckBox))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(contasParcelasjComboBox, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(atualizaContasParcelajButton))
                    .addComponent(atualizaPessoaParcelajButton)
                    .addGroup(jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(anoReferenciajSpinner, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(mesRefjSpinner, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(filtroSituacaojComboBox, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(filtroNaturezajComboBox, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(pessoaParcelajComboBox, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jPanel11.setBackground(resourceMap.getColor("jPanel11.background")); // NOI18N
        jPanel11.setName("jPanel11"); // NOI18N

        jPanel12.setBackground(resourceMap.getColor("jPanel12.background")); // NOI18N
        jPanel12.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        jPanel12.setName("jPanel12"); // NOI18N

        jScrollPane2.setName("jScrollPane2"); // NOI18N

        gradeParcelajTable.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "ID#", "Pessoa", "Parcela", "Data Vencimento", "Data Pagamento", "Valor", "Natureza", "Tipo Doc.", "Doc Origem"
            }
        ) {
            Class[] types = new Class [] {
                java.lang.Integer.class, java.lang.String.class, java.lang.Integer.class, java.lang.String.class, java.lang.String.class, java.lang.Float.class, java.lang.String.class, java.lang.String.class, java.lang.Integer.class
            };

            public Class getColumnClass(int columnIndex) {
                return types [columnIndex];
            }
        });
        gradeParcelajTable.setName("gradeParcelajTable"); // NOI18N
        gradeParcelajTable.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                gradeParcelajTableMouseClicked(evt);
            }
        });
        jScrollPane2.setViewportView(gradeParcelajTable);
        gradeParcelajTable.getColumnModel().getColumn(0).setHeaderValue(resourceMap.getString("gradeParcelajTable.columnModel.title0")); // NOI18N
        gradeParcelajTable.getColumnModel().getColumn(1).setHeaderValue(resourceMap.getString("gradeParcelajTable.columnModel.title1")); // NOI18N
        gradeParcelajTable.getColumnModel().getColumn(2).setHeaderValue(resourceMap.getString("gradeParcelajTable.columnModel.title2")); // NOI18N
        gradeParcelajTable.getColumnModel().getColumn(3).setHeaderValue(resourceMap.getString("gradeParcelajTable.columnModel.title3")); // NOI18N
        gradeParcelajTable.getColumnModel().getColumn(4).setHeaderValue(resourceMap.getString("gradeParcelajTable.columnModel.title4")); // NOI18N
        gradeParcelajTable.getColumnModel().getColumn(5).setHeaderValue(resourceMap.getString("gradeParcelajTable.columnModel.title5")); // NOI18N
        gradeParcelajTable.getColumnModel().getColumn(6).setHeaderValue(resourceMap.getString("gradeParcelajTable.columnModel.title6")); // NOI18N
        gradeParcelajTable.getColumnModel().getColumn(7).setHeaderValue(resourceMap.getString("gradeParcelajTable.columnModel.title7")); // NOI18N
        gradeParcelajTable.getColumnModel().getColumn(8).setHeaderValue(resourceMap.getString("gradeParcelajTable.columnModel.title8")); // NOI18N

        jPanel13.setBorder(javax.swing.BorderFactory.createTitledBorder(null, resourceMap.getString("jPanel13.border.title"), 0, 0, null, resourceMap.getColor("jPanel13.border.titleColor"))); // NOI18N
        jPanel13.setName("jPanel13"); // NOI18N

        observacaoParcelajLabel.setText(resourceMap.getString("observacaoParcelajLabel.text")); // NOI18N
        observacaoParcelajLabel.setName("observacaoParcelajLabel"); // NOI18N

        javax.swing.GroupLayout jPanel13Layout = new javax.swing.GroupLayout(jPanel13);
        jPanel13.setLayout(jPanel13Layout);
        jPanel13Layout.setHorizontalGroup(
            jPanel13Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel13Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(observacaoParcelajLabel, javax.swing.GroupLayout.DEFAULT_SIZE, 625, Short.MAX_VALUE)
                .addContainerGap())
        );
        jPanel13Layout.setVerticalGroup(
            jPanel13Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel13Layout.createSequentialGroup()
                .addComponent(observacaoParcelajLabel, javax.swing.GroupLayout.DEFAULT_SIZE, 17, Short.MAX_VALUE)
                .addContainerGap())
        );

        jLabel14.setText(resourceMap.getString("jLabel14.text")); // NOI18N
        jLabel14.setName("jLabel14"); // NOI18N

        ValorTotaljFormattedTextField.setText(resourceMap.getString("ValorTotaljFormattedTextField.text")); // NOI18N
        ValorTotaljFormattedTextField.setName("ValorTotaljFormattedTextField"); // NOI18N

        javax.swing.GroupLayout jPanel12Layout = new javax.swing.GroupLayout(jPanel12);
        jPanel12.setLayout(jPanel12Layout);
        jPanel12Layout.setHorizontalGroup(
            jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel12Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel12Layout.createSequentialGroup()
                        .addComponent(jPanel13, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jLabel14)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(ValorTotaljFormattedTextField, javax.swing.GroupLayout.PREFERRED_SIZE, 120, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(jScrollPane2, javax.swing.GroupLayout.DEFAULT_SIZE, 842, Short.MAX_VALUE))
                .addContainerGap())
        );
        jPanel12Layout.setVerticalGroup(
            jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel12Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 299, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGroup(jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel12Layout.createSequentialGroup()
                        .addGap(26, 26, 26)
                        .addGroup(jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(ValorTotaljFormattedTextField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel14)))
                    .addGroup(jPanel12Layout.createSequentialGroup()
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jPanel13, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout jPanel11Layout = new javax.swing.GroupLayout(jPanel11);
        jPanel11.setLayout(jPanel11Layout);
        jPanel11Layout.setHorizontalGroup(
            jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel11Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jPanel12, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addContainerGap())
        );
        jPanel11Layout.setVerticalGroup(
            jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel11Layout.createSequentialGroup()
                .addComponent(jPanel12, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout jPanel9Layout = new javax.swing.GroupLayout(jPanel9);
        jPanel9.setLayout(jPanel9Layout);
        jPanel9Layout.setHorizontalGroup(
            jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jToolBar2, javax.swing.GroupLayout.DEFAULT_SIZE, 886, Short.MAX_VALUE)
            .addGroup(jPanel9Layout.createSequentialGroup()
                .addGap(10, 10, 10)
                .addComponent(jPanel10, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGap(10, 10, 10))
            .addComponent(jPanel11, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        jPanel9Layout.setVerticalGroup(
            jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel9Layout.createSequentialGroup()
                .addComponent(jToolBar2, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel10, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel11, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
        );

        javax.swing.GroupLayout jPanel8Layout = new javax.swing.GroupLayout(jPanel8);
        jPanel8.setLayout(jPanel8Layout);
        jPanel8Layout.setHorizontalGroup(
            jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel9, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        jPanel8Layout.setVerticalGroup(
            jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel8Layout.createSequentialGroup()
                .addComponent(jPanel9, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(42, Short.MAX_VALUE))
        );

        contasjTabbedPane.addTab(resourceMap.getString("jPanel8.TabConstraints.tabTitle"), jPanel8); // NOI18N

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(contasjTabbedPane, javax.swing.GroupLayout.DEFAULT_SIZE, 891, Short.MAX_VALUE)
                .addContainerGap())
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(contasjTabbedPane, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jToolBar1, javax.swing.GroupLayout.DEFAULT_SIZE, 911, Short.MAX_VALUE)
            .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addComponent(jToolBar1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    ClassConecta conecta = new ClassConecta();

    //***************************** DADOS DO USUARIO LOGADO
    int cod_acesso_usuario;
    String LivroCaixa_usuario_logado;
    //*****************************

    ComboItem combo_contas;

    public int codLanc;

    int cod_usuario_logado;
    String nome_usuario_logado;

    public ResultSet resultSet = null;

    public double valorTotal = 0;

    public void getGradeCaixa() throws ParseException, SQLException{

        LivroCaixa oLivroCaixa = new LivroCaixa();
        ComboItem comboConta = (ComboItem) contasjComboBox.getSelectedItem();
        ComboItem comboCentroCusto = (ComboItem) centrodeCustosjComboBox.getSelectedItem();
        oLivroCaixa.setCod_contas(comboConta.getId());
        oLivroCaixa.setCod_CentroCusto(comboCentroCusto.getId());


         SimpleDateFormat formato = new SimpleDateFormat("dd/MM/yyyy");
        try {
            oLivroCaixa.setData_lancamento((Date) formato.parse(dataLancamentojFormattedTextField.getValue().toString()));
            oLivroCaixa.setDataFinal((Date) formato.parse(dataLancamentojFormattedTextField.getValue().toString()));
        } catch (ParseException ex) {
            Logger.getLogger(jFLivroCaixa.class.getName()).log(Level.SEVERE, null, ex);
        }

        if (buttonGroup1.getSelection().getActionCommand().equals("Este Mês")){
           oLivroCaixa.setAnoRef( Funcoes.getYear(dataLancamentojFormattedTextField.getText())  );
           oLivroCaixa.setMesRef( Funcoes.getMonth(dataLancamentojFormattedTextField.getText()) );
           oLivroCaixa.setData_lancamento(null);
           oLivroCaixa.setDataFinal(null);
        }

        if (buttonGroup1.getSelection().getActionCommand().equals("Este Ano")){
           oLivroCaixa.setAnoRef( Funcoes.getYear(dataLancamentojFormattedTextField.getText())  );
           oLivroCaixa.setData_lancamento(null);
           oLivroCaixa.setDataFinal(null);
        }

        ResultSet resultSetCaixa = null;

        String[] colunasTabela = new String[]{"Código", "Histórico","Data", "Pessoa", "Valor"};
        DefaultTableModel modeloTabela = new DefaultTableModel(null, colunasTabela) {

            @Override
            public boolean isCellEditable(int row, int col) {
                return false;
            }
        };
        gradeLivroCaixajTable.setModel(modeloTabela);
        //Dimensionar colunas
        gradeLivroCaixajTable.getColumnModel().getColumn(0).setPreferredWidth(60);
        gradeLivroCaixajTable.getColumnModel().getColumn(0).setMaxWidth(60);

        gradeLivroCaixajTable.getColumnModel().getColumn(1).setPreferredWidth(415);
        gradeLivroCaixajTable.getColumnModel().getColumn(1).setMaxWidth(415);

        gradeLivroCaixajTable.getColumnModel().getColumn(2).setPreferredWidth(70);
        gradeLivroCaixajTable.getColumnModel().getColumn(2).setMaxWidth(70);

        gradeLivroCaixajTable.getColumnModel().getColumn(3).setPreferredWidth(220);
        gradeLivroCaixajTable.getColumnModel().getColumn(3).setMaxWidth(220);

        gradeLivroCaixajTable.getColumnModel().getColumn(4).setPreferredWidth(80);
        gradeLivroCaixajTable.getColumnModel().getColumn(4).setMaxWidth(80);
     try {
            resultSetCaixa = oLivroCaixa.getConsultar();
            resultSetCaixa.last(); //Atualiza o getRow
            if (resultSetCaixa.getRow() > 0){
              saldoAnteriorjFormattedTextField.setValue(oLivroCaixa.getConsultarSaldo("anterior",conecta));
              saldoAtualjFormattedTextField.setValue(oLivroCaixa.getConsultarSaldo("atual",conecta));
              saldoTotaljFormattedTextField.setValue(oLivroCaixa.getConsultarSaldo("saldo",conecta)+oLivroCaixa.getConsultarSaldo("anterior",conecta));
            }
            resultSetCaixa.beforeFirst();//Retorna o ponteiro para o inicio sem isso nao funciona a grade

        } catch (SQLException ex) {
            Logger.getLogger(jFLivroCaixa.class.getName()).log(Level.SEVERE, null, ex);
        }

        try {
            while (resultSetCaixa.next()) {

                //Formatar valor
                DecimalFormat formatoMoney = new DecimalFormat("###,###,##0.00");
                String oValorDoc = null;
                oValorDoc = formatoMoney.format(resultSetCaixa.getDouble("VALOR"));

                Date dataPagamento = resultSetCaixa.getDate("DATA_LANCAMENTO");
                String dataLanc = null;
                if (dataPagamento != null){
                SimpleDateFormat formatoDataLanc = new SimpleDateFormat("dd/MM/yyyy");
                dataLanc = formatoDataLanc.format(dataPagamento);
                }else{
                dataLanc = "";
                }
                //Fim formatação

                modeloTabela.addRow(new String[]{
                    Funcoes.getZeroEsq(resultSetCaixa.getInt("COD_LANCAMENTO"), 8),
                    resultSetCaixa.getString("HISTORICO"),
                    dataLanc,
                    resultSetCaixa.getString("PESSOA"),
                    oValorDoc
                });

            }
        } catch (SQLException ex) {
            Logger.getLogger(jFLivroCaixa.class.getName()).log(Level.SEVERE, null, ex);
        }
    }
    //**************************************************************************************************************************************************


    public void getGradeParcela() throws ParseException{

       //Consultar pedidos
        Parcelas oParcela = new Parcelas();
        ComboItem comboCliente  = (ComboItem) pessoaParcelajComboBox.getSelectedItem();
        ComboItem comboConta    = (ComboItem) contasParcelasjComboBox.getSelectedItem();

//        oParcela.setCodPessoa(comboCliente.getId());
//        oParcela.setCodConta(comboConta.getId());

        oParcela.setSituacao(filtroSituacaojComboBox.getSelectedItem().toString());
        oParcela.setAnoRef(Integer.parseInt(anoReferenciajSpinner.getValue().toString()));
        oParcela.setMesRef(Integer.parseInt(mesRefjSpinner.getValue().toString()));

        if (filtroNaturezajComboBox.getSelectedIndex() > 0){
        oParcela.setNatureza(filtroNaturezajComboBox.getSelectedItem().toString());
        }


        if (filtroSituacaojComboBox.getSelectedItem().toString().equals("Todas do Ano")){
            oParcela.setAnoRef(Integer.parseInt(anoReferenciajSpinner.getValue().toString()));
            oParcela.setMesRef(0);
            System.out.println();
        }

        if ( filtroSituacaojComboBox.getSelectedItem().toString().equals("Todas do Mês")){
            oParcela.setAnoRef(Integer.parseInt(anoReferenciajSpinner.getValue().toString()));
            oParcela.setMesRef(Integer.parseInt(mesRefjSpinner.getValue().toString()));
        }

        if ( filtroSituacaojComboBox.getSelectedItem().toString().equals("Vencidas")){
            oParcela.setAnoRef(0);
            oParcela.setMesRef(0);
        }

        if (!todasPessoasjCheckBox.isSelected()){
            oParcela.setCodPessoa(comboCliente.getId());
        }

        if (!todasContasjCheckBox.isSelected()){
            oParcela.setCodConta(comboConta.getId());
        }


        String[] colunasTabela = new String[]{"Código", "Pessoa", "Parcela", "Data Venc", "Pagamento", "Valor", "Natureza", "Tipo Doc.", "Doc. Origem"};
        DefaultTableModel modeloTabela = new DefaultTableModel(null, colunasTabela) {

            @Override
            public boolean isCellEditable(int row, int col) {
                return false;
            }
        };
        gradeParcelajTable.setModel(modeloTabela);
        //Dimensionar colunas
        gradeParcelajTable.getColumnModel().getColumn(0).setMinWidth(60);
        gradeParcelajTable.getColumnModel().getColumn(0).setPreferredWidth(60);
        gradeParcelajTable.getColumnModel().getColumn(0).setMaxWidth(60);

        gradeParcelajTable.getColumnModel().getColumn(1).setMinWidth(270);
        gradeParcelajTable.getColumnModel().getColumn(1).setPreferredWidth(270);
        gradeParcelajTable.getColumnModel().getColumn(1).setMaxWidth(270);

        gradeParcelajTable.getColumnModel().getColumn(2).setMinWidth(50);
        gradeParcelajTable.getColumnModel().getColumn(2).setPreferredWidth(50);
        gradeParcelajTable.getColumnModel().getColumn(2).setMaxWidth(50);

        gradeParcelajTable.getColumnModel().getColumn(3).setMinWidth(80);
        gradeParcelajTable.getColumnModel().getColumn(3).setPreferredWidth(80);
        gradeParcelajTable.getColumnModel().getColumn(3).setMaxWidth(80);

        gradeParcelajTable.getColumnModel().getColumn(4).setMinWidth(80);
        gradeParcelajTable.getColumnModel().getColumn(4).setPreferredWidth(80);
        gradeParcelajTable.getColumnModel().getColumn(4).setMaxWidth(80);
        
        gradeParcelajTable.getColumnModel().getColumn(5).setMinWidth(60);
        gradeParcelajTable.getColumnModel().getColumn(5).setPreferredWidth(60);
        gradeParcelajTable.getColumnModel().getColumn(5).setMaxWidth(60);

        gradeParcelajTable.getColumnModel().getColumn(6).setMinWidth(60);
        gradeParcelajTable.getColumnModel().getColumn(6).setPreferredWidth(60);
        gradeParcelajTable.getColumnModel().getColumn(6).setMaxWidth(60);

        gradeParcelajTable.getColumnModel().getColumn(7).setMinWidth(100);
        gradeParcelajTable.getColumnModel().getColumn(7).setPreferredWidth(100);
        gradeParcelajTable.getColumnModel().getColumn(7).setMaxWidth(100);

        gradeParcelajTable.getColumnModel().getColumn(8).setMinWidth(80);
        gradeParcelajTable.getColumnModel().getColumn(8).setPreferredWidth(80);
        gradeParcelajTable.getColumnModel().getColumn(8).setMaxWidth(80);

        //parcelajTable.setDefaultRenderer(Object.class, new ColorRenderer());


        try {
            resultSet   = oParcela.getConsultar();
        } catch (SQLException ex) {
            Logger.getLogger(jFPessoas.class.getName()).log(Level.SEVERE, null, ex);
        }
        try {
            valorTotal  = 0;
            while (resultSet.next()) {
                //Definir valor total
                if (  resultSet.getString("natureza").equals("a Pagar")   ){
                valorTotal  = valorTotal - resultSet.getDouble("VALOR_DOCUMENTO");
                }else{
                valorTotal  = valorTotal + resultSet.getDouble("VALOR_DOCUMENTO");
                }


                //Formatar data
                Date cadastro = resultSet.getDate("DATA_PAGAMENTO");

                String datPagamento = null;
                if (cadastro != null){
                SimpleDateFormat formatoDataLanc = new SimpleDateFormat("dd/MM/yyyy");
                datPagamento = formatoDataLanc.format(cadastro);
                }else{
                datPagamento = "";
                }
                //Fim formatação


                modeloTabela.addRow(new String[]{
                    Funcoes.getCodigoFormat(resultSet.getInt("COD_PARCELA")),
                    resultSet.getString("PESSOA"),
                    Funcoes.getZeroEsq(resultSet.getInt("PARCELA"), 000) +"/"+Funcoes.getZeroEsq(resultSet.getInt("QUANTIDADE"), 000),
                    Funcoes.getDataFormat(resultSet.getDate("DATA_VENCIMENTO")),
//                    Funcoes.getDataFormat(resultSet.getstri("DATA_PAGAMENTO")),
//                    resultSet.getString("DATA_PAGAMENTO"),
                    datPagamento,
                    Funcoes.getMoneyFormat(resultSet.getDouble("VALOR_DOCUMENTO")),
                    resultSet.getString("NATUREZA"),
                    resultSet.getString("TIPO_DOCUMENTO_ORIGEM"),
                    Funcoes.getCodigoFormat(resultSet.getInt("COD_DOCUMENTO_ORIGEM"))

                });
            }
            ValorTotaljFormattedTextField.setValue(valorTotal);
            //resultSet.first();
            resultSet.beforeFirst();
        } catch (SQLException ex) {
            Logger.getLogger(jFPessoas.class.getName()).log(Level.SEVERE, null, ex);
        }

    }


    //*****************************************************************************************************************************************************

    private void formWindowOpened(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_formWindowOpened
        // TODO add your handling code here:
        ClassConecta.conecta();

        SimpleDateFormat formato = new SimpleDateFormat("dd/MM/yyyy");
        Date dataLanc = new Date();
        String datAtual = null;
        Calendar calendar = Calendar.getInstance();
        dataLanc = calendar.getTime();
        datAtual = formato.format(dataLanc);
        dataLancamentojFormattedTextField.setValue(datAtual );

        atualizaBancojButtonActionPerformed(null);
        atualizaCentroCustojButtonActionPerformed(null);
        atualizarjButtonActionPerformed(null);

        try {
            dataLancamentojFormattedTextField.setText(Funcoes.getNowBR());
        } catch (ParseException ex) {
            Logger.getLogger(jFLivroCaixa.class.getName()).log(Level.SEVERE, null, ex);
        } 
    }//GEN-LAST:event_formWindowOpened

    private void sairjButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_sairjButtonActionPerformed
        // TODO add your handling code here:
        this.dispose();
    }//GEN-LAST:event_sairjButtonActionPerformed

    private void atualizaBancojButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_atualizaBancojButtonActionPerformed
        // TODO add your handling code here:
        try {
            Contas oConta = new Contas();
            ResultSet rs = null;
            rs = oConta.getConsultar();
            contasjComboBox.removeAllItems();
            while (rs.next()) {
                contasjComboBox.addItem(new ComboItem(rs.getInt("COD_CONTAS"), rs.getString("BANCO")));
            }
            contasjComboBox.updateUI();
        } catch (SQLException ex) {
            Logger.getLogger(jFLivroCaixa.class.getName()).log(Level.SEVERE, null, ex);
        }
    }//GEN-LAST:event_atualizaBancojButtonActionPerformed

    private void abrirCaixajButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_abrirCaixajButtonActionPerformed
        // TODO add your handling code here:
        try {
           //Confirmar

            Object[] options = {"Sim", "Não"};
            int sd = JOptionPane.showOptionDialog(null, "Deseja realmente ABRIR o caixa de " + dataLancamentojFormattedTextField.getText() + " ?", "Confirmação!", JOptionPane.DEFAULT_OPTION, JOptionPane.WARNING_MESSAGE, null, options, options[0]);
            if (sd != 0) {
                return;
            }

            ComboItem codConta = (ComboItem) contasjComboBox.getSelectedItem();
            //ComboItem codPessoa = (ComboItem) centrodeCustosjComboBox.getSelectedItem();
            int codPessoa = cod_usuario_logado;
            ComboItem codCentroCusto = (ComboItem) centrodeCustosjComboBox.getSelectedItem();
            Funcoes.setLancContabil(conecta, dataLancamentojFormattedTextField.getText(), codCentroCusto.getId(), codConta.getId(), 0, codPessoa, "Abertura", "de Caixa", (double) 0.0, "Abertura Caixa");
            atualizarjButtonActionPerformed(null);


        } catch (SQLException ex) {
            Logger.getLogger(jFLivroCaixa.class.getName()).log(Level.SEVERE, null, ex);
        } catch (ParseException ex) {
            Logger.getLogger(jFLivroCaixa.class.getName()).log(Level.SEVERE, null, ex);
        }
    }//GEN-LAST:event_abrirCaixajButtonActionPerformed

    private void cadastrabancojButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cadastrabancojButtonActionPerformed
        // TODO add your handling code here:
        jFContas oFormContas = new jFContas();

        oFormContas.conecta = conecta;
        oFormContas.cod_acesso_usuario = cod_acesso_usuario;
        oFormContas.contas_usuario_logado = LivroCaixa_usuario_logado;
        oFormContas.setTitle("Cadastro Contas");
        oFormContas.pack();
        oFormContas.setLocationRelativeTo(null);
        oFormContas.setModal(true);
        oFormContas.setVisible(true);
    }//GEN-LAST:event_cadastrabancojButtonActionPerformed

    private void atualizaCentroCustojButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_atualizaCentroCustojButtonActionPerformed
        // TODO add your handling code here:
        try {
            CentroCusto oCentroCusto = new CentroCusto();
            ResultSet rs = null;
            rs = oCentroCusto.getConsultar();
            centrodeCustosjComboBox.removeAllItems();
            while (rs.next()) {
                centrodeCustosjComboBox.addItem(new ComboItem(rs.getInt(1), rs.getString(2)));
            }
            centrodeCustosjComboBox.updateUI();
        } catch (SQLException ex) {
            Logger.getLogger(jFContas.class.getName()).log(Level.SEVERE, null, ex);
        }
    }//GEN-LAST:event_atualizaCentroCustojButtonActionPerformed

    private void cadastraPessoajButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cadastraPessoajButtonActionPerformed
        // TODO add your handling code here:
        jFCentroCusto oFormCentroCusto = new jFCentroCusto();

        oFormCentroCusto.conecta = conecta;
        oFormCentroCusto.cod_acesso_CentroCusto = cod_acesso_usuario;
        oFormCentroCusto.setTitle("Centro de Custos");
        oFormCentroCusto.setDefaultCloseOperation(jFCentroCusto.DO_NOTHING_ON_CLOSE);
        oFormCentroCusto.pack();
        oFormCentroCusto.setLocationRelativeTo(null);
        oFormCentroCusto.setModal(true);
        oFormCentroCusto.setVisible(true);
        atualizaCentroCustojButtonActionPerformed(null);

    }//GEN-LAST:event_cadastraPessoajButtonActionPerformed

    private void atualizarjButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_atualizarjButtonActionPerformed
        try {
            // TODO add your handling code here:
            getGradeCaixa();
        } catch (ParseException ex) {
            Logger.getLogger(jFLivroCaixa.class.getName()).log(Level.SEVERE, null, ex);
        } catch (SQLException ex) {
            Logger.getLogger(jFLivroCaixa.class.getName()).log(Level.SEVERE, null, ex);
        }
    }//GEN-LAST:event_atualizarjButtonActionPerformed

    private void depositojButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_depositojButtonActionPerformed
        // TODO add your handling code here:
        jFOperacao oFormOperacao    = new jFOperacao();
        oFormOperacao.conecta       = conecta;
        oFormOperacao.operacao      = 0  ;
        oFormOperacao.tipoRepasse   = "Dinheiro";
        oFormOperacao.valorCheque   = 0;
        oFormOperacao.setTitle("Depósito");

        oFormOperacao.setLocationRelativeTo(null);
        oFormOperacao.setPreferredSize(new Dimension(356, 480));
        oFormOperacao.pack();
        oFormOperacao.setModal(true);
        oFormOperacao.setVisible(true);
        atualizarjButtonActionPerformed(evt);
    }//GEN-LAST:event_depositojButtonActionPerformed

    private void saquejButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_saquejButtonActionPerformed
        // TODO add your handling code here:
        jFOperacao oFormOperacao = new jFOperacao();
        oFormOperacao.conecta       = conecta;
        oFormOperacao.operacao = 1;
        oFormOperacao.tipoRepasse = "Dinheiro";
        oFormOperacao.valorCheque = 0;
        oFormOperacao.setTitle("Saque");
        
        oFormOperacao.setLocationRelativeTo(null);
        oFormOperacao.setPreferredSize(new Dimension(356, 580));
        oFormOperacao.pack();
        oFormOperacao.setModal(true);
        oFormOperacao.setVisible(true);
        atualizarjButtonActionPerformed(evt);
    }//GEN-LAST:event_saquejButtonActionPerformed

    private void contasjComboBoxItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_contasjComboBoxItemStateChanged
//         TODO add your handling code here:
        if (centrodeCustosjComboBox.getSelectedItem() == null){

        }else{
        atualizarjButtonActionPerformed(null);
        }
    }//GEN-LAST:event_contasjComboBoxItemStateChanged

    private void centrodeCustosjComboBoxItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_centrodeCustosjComboBoxItemStateChanged
        // TODO add your handling code here:
        if (contasjComboBox.getSelectedItem() == null){

        }else{
        atualizarjButtonActionPerformed(null);
        }
    }//GEN-LAST:event_centrodeCustosjComboBoxItemStateChanged

    private void hojejRadioButtonjRadioButtonStateChanged(javax.swing.event.ChangeEvent evt) {//GEN-FIRST:event_hojejRadioButtonjRadioButtonStateChanged
        // TODO add your handling code here:
        atualizarjButtonActionPerformed(null);
    }//GEN-LAST:event_hojejRadioButtonjRadioButtonStateChanged

    private void esteMesjRadioButtonjRadioButtonStateChanged(javax.swing.event.ChangeEvent evt) {//GEN-FIRST:event_esteMesjRadioButtonjRadioButtonStateChanged
        // TODO add your handling code here:
        atualizarjButtonActionPerformed(null);
    }//GEN-LAST:event_esteMesjRadioButtonjRadioButtonStateChanged

    private void esteAnojRadioButtonjRadioButtonStateChanged(javax.swing.event.ChangeEvent evt) {//GEN-FIRST:event_esteAnojRadioButtonjRadioButtonStateChanged
        // TODO add your handling code here:
        atualizarjButtonActionPerformed(null);
    }//GEN-LAST:event_esteAnojRadioButtonjRadioButtonStateChanged

    private void transferenciajButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_transferenciajButtonActionPerformed
        // TODO add your handling code here:
        jFOperacao oFormOperacao = new jFOperacao();
        oFormOperacao.conecta       = conecta;
        oFormOperacao.operacao = 2;
        oFormOperacao.tipoRepasse = "Dinheiro";
        oFormOperacao.valorCheque = 0;
        oFormOperacao.setTitle("Transferência");
        
        oFormOperacao.setLocationRelativeTo(null);
        oFormOperacao.setPreferredSize(new Dimension(356, 580));
        oFormOperacao.pack();
        oFormOperacao.setModal(true);
        oFormOperacao.setVisible(true);
        atualizarjButtonActionPerformed(evt);
    }//GEN-LAST:event_transferenciajButtonActionPerformed

    private void estornarjButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_estornarjButtonActionPerformed
        // TODO add your handling code here:
         //Confirmar
        Object[] options = {"Sim", "Não"};
        int sd =
                JOptionPane.showOptionDialog(
                null,
                "Deseja realmente ESTORNAR este lançamento ?",
                "Confirmação!",
                JOptionPane.DEFAULT_OPTION,
                JOptionPane.WARNING_MESSAGE,
                null,
                options,
                options[0]);

        if (sd != 0) {
            return;
        }
        LivroCaixa oLivro   = new LivroCaixa();
        oLivro.setCod_lancamento(codLanc);
        oLivro.setEstornar(conecta);
        try {
            ClassConecta.con.commit();
        } catch (SQLException ex) {
            Logger.getLogger(jFLivroCaixa.class.getName()).log(Level.SEVERE, null, ex);
        }
        atualizarjButtonActionPerformed(null);
    }//GEN-LAST:event_estornarjButtonActionPerformed

    private void gradeLivroCaixajTableMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_gradeLivroCaixajTableMouseClicked
        // TODO add your handling code here:
        codLanc = Integer.parseInt(gradeLivroCaixajTable.getValueAt(gradeLivroCaixajTable.getSelectedRow(), 0).toString());
        if (codLanc > 0){
            estornarjButton.setEnabled(true);
        }else{
            estornarjButton.setEnabled(false);
        }
    }//GEN-LAST:event_gradeLivroCaixajTableMouseClicked

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
        // TODO add your handling code here:
        jFParcelas oParcela = new jFParcelas();

        oParcela.conecta = conecta;
        oParcela.cod_usuario_logado = cod_usuario_logado;
        oParcela.usuario_logado = nome_usuario_logado;
        oParcela.pack();
        oParcela.setLocationRelativeTo(null);
        //Passando parametro
        oParcela.natureza       = "a Pagar";
        oParcela.setModal(true);
        oParcela.setVisible(true);

//        try {
//            Aplicar alterações
//            ClassConecta.con.commit();
//            ClassConecta.con.setAutoCommit(false);
//        } catch (SQLException ex) {
//            Logger.getLogger(jFParcelas.class.getName()).log(Level.SEVERE, null, ex);
//        }

        //Atualizar
//        consultarLancamentojButtonActionPerformed(null);
    }//GEN-LAST:event_jButton1ActionPerformed

    private void atualizaContasParcelajButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_atualizaContasParcelajButtonActionPerformed
        // TODO add your handling code here:
        try {
            Contas oConta = new Contas();
            ResultSet rs = null;
            rs = oConta.getConsultar();
            contasParcelasjComboBox.removeAllItems();
            while (rs.next()) {
                contasParcelasjComboBox.addItem(new ComboItem(rs.getInt("COD_CONTAS"), rs.getString("BANCO")));
            }
            contasParcelasjComboBox.updateUI();
        } catch (SQLException ex) {
            Logger.getLogger(jFLivroCaixa.class.getName()).log(Level.SEVERE, null, ex);
        }
    }//GEN-LAST:event_atualizaContasParcelajButtonActionPerformed

    private void contasjTabbedPaneStateChanged(javax.swing.event.ChangeEvent evt) {//GEN-FIRST:event_contasjTabbedPaneStateChanged
        // TODO add your handling code here:
        if (contasjTabbedPane.getSelectedIndex() == 1){/*conta*/
         Calendar calendar = Calendar.getInstance();
         int year = calendar.get(Calendar.YEAR);
         anoReferenciajSpinner.setValue(year);
         int month = calendar.get(Calendar.MONTH);
         mesRefjSpinner.setValue(month+1);
         filtroSituacaojComboBox.setSelectedIndex(1);//Em aberto
         //Desativar os botões por padrão, quando for clicado na grade será feito habilitar alguns
         baixarjButton.setEnabled(false);
         estornarParcelajButton.setEnabled(false);

         //pesquisar parcelas do mes ao mostrar aba
         atualizaContasParcelajButtonActionPerformed(null);
         atualizaPessoaParcelajButtonActionPerformed(null);
         pesquisarjButtonActionPerformed(null);
//         getComboContas(); //Popular combo das contas (filtro)
        }
    }//GEN-LAST:event_contasjTabbedPaneStateChanged

    private void atualizaPessoaParcelajButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_atualizaPessoaParcelajButtonActionPerformed
        // TODO add your handling code here:
        try {
            Pessoas oPessoa = new Pessoas();
            ResultSet rs = null;
            rs = oPessoa.getConsultar();
            pessoaParcelajComboBox.removeAllItems();
            while (rs.next()) {
                pessoaParcelajComboBox.addItem(new ComboItem(rs.getInt("COD_PESSOA"), rs.getString("PESSOA")));
            }
            pessoaParcelajComboBox.updateUI();
        } catch (SQLException ex) {
            Logger.getLogger(jFLivroCaixa.class.getName()).log(Level.SEVERE, null, ex);
        }
    }//GEN-LAST:event_atualizaPessoaParcelajButtonActionPerformed

    private void pesquisarjButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_pesquisarjButtonActionPerformed
        // TODO add your handling code here:
        try {
            getGradeParcela();
        } catch (ParseException ex) {
            Logger.getLogger(jFLivroCaixa.class.getName()).log(Level.SEVERE, null, ex);
        }
    }//GEN-LAST:event_pesquisarjButtonActionPerformed

    private void pessoaParcelajComboBoxActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_pessoaParcelajComboBoxActionPerformed
        // TODO add your handling code here:
        pesquisarjButtonActionPerformed(evt);
    }//GEN-LAST:event_pessoaParcelajComboBoxActionPerformed

    private void contasParcelasjComboBoxActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_contasParcelasjComboBoxActionPerformed
        // TODO add your handling code here:
        pesquisarjButtonActionPerformed(evt);
    }//GEN-LAST:event_contasParcelasjComboBoxActionPerformed

    private void todasPessoasjCheckBoxActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_todasPessoasjCheckBoxActionPerformed
        // TODO add your handling code here:
        pesquisarjButtonActionPerformed(evt);
    }//GEN-LAST:event_todasPessoasjCheckBoxActionPerformed

    private void todasContasjCheckBoxActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_todasContasjCheckBoxActionPerformed
        // TODO add your handling code here:
        pesquisarjButtonActionPerformed(evt);
    }//GEN-LAST:event_todasContasjCheckBoxActionPerformed

    private void gradeParcelajTableMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_gradeParcelajTableMouseClicked
        // TODO add your handling code here:
        Parcelas oParcela = new Parcelas();
        oParcela.setCodParcela(Integer.parseInt(gradeParcelajTable.getValueAt(gradeParcelajTable.getSelectedRow(), 0).toString()));
        ResultSet rs;
        try {
            rs = oParcela.getConsultar();
            rs.first();

            observacaoParcelajLabel.setText( rs.getString("OBSERVACAO") );
//            propriedadeParcelajButton.setEnabled(true);
            if (rs.getString("DATA_PAGAMENTO") == null ){
                baixarjButton.setEnabled(true);
                estornarParcelajButton.setEnabled(false);
//                recibojButton.setEnabled(false);
//                notificarjButton.setEnabled(true);
            }else{
                baixarjButton.setEnabled(false);
                estornarParcelajButton.setEnabled(true);
//                recibojButton.setEnabled(true);
//                notificarjButton.setEnabled(false);
            }

        } catch (SQLException ex) {
            Logger.getLogger(jFPessoas.class.getName()).log(Level.SEVERE, null, ex);
        }
    }//GEN-LAST:event_gradeParcelajTableMouseClicked

    private void baixarjButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_baixarjButtonActionPerformed
        // TODO add your handling code here:
        float valorTotalParcela = 0;
        String lista = null;
        //Listar códigos das parcelas selecionadas separados por vírgula
        for (int i = 0; i < gradeParcelajTable.getSelectedRows().length; i++) {
            if (lista == null){
                lista = String.valueOf(gradeParcelajTable.getValueAt(gradeParcelajTable.getSelectedRows()[i],0).toString());
            }else{
                lista += "," + String.valueOf(gradeParcelajTable.getValueAt(gradeParcelajTable.getSelectedRows()[i],0).toString());
            }
        }

        Parcelas oParcela = new Parcelas();
        ResultSet rsParcelaTotais = null;
        try {
            rsParcelaTotais = oParcela.getTotais(lista);
            valorTotalParcela = rsParcelaTotais.getFloat("valorTotal");
        } catch (SQLException ex) {
            Logger.getLogger(jFPessoas.class.getName()).log(Level.SEVERE, null, ex);
        }

        jFBaixa oFormBaixa = new jFBaixa();
        oFormBaixa.pack();
        oFormBaixa.setLocationRelativeTo(null);
        //Passando parametro

        //oFormBaixa.setVisible(true);
        oParcela.setCodParcela(Integer.parseInt(gradeParcelajTable.getValueAt(gradeParcelajTable.getSelectedRow(), 0).toString()));
        ResultSet rsParcela = null;
        try {
            rsParcela = oParcela.getConsultar();
            rsParcela.first();

            oFormBaixa.conecta          = conecta;
            oFormBaixa.codPedido        = rsParcela.getInt("COD_PARCELA"); //codDocOrigem //Integer.parseInt(parcelajTable.getValueAt(parcelajTable.getSelectedRow(), 6).toString());
            oFormBaixa.codCliente       = rsParcela.getInt("COD_PESSOA");//Integer.parseInt(pessoajTable.getValueAt(pessoajTable.getSelectedRow(), 0).toString());
            oFormBaixa.codParcela       = rsParcela.getInt("COD_PARCELA");//Integer.parseInt(parcelajTable.getValueAt(parcelajTable.getSelectedRow(), 0).toString());
            oFormBaixa.valorTotal       = valorTotalParcela;//rsParcela.getFloat("valorDoc");//Float.parseFloat(parcelajTable.getValueAt(parcelajTable.getSelectedRow(), 4).toString());
            oFormBaixa.listaCodParcela  = lista;
            oFormBaixa.natureza         = rsParcela.getString("NATUREZA").toString();
            oFormBaixa.tipoDocOrigem    = "Parcela"; //rsParcela.getString("tipoDocOrigem");
            oFormBaixa.valorJuros       = rsParcela.getFloat("JUROS");
            oFormBaixa.valorMulta       = rsParcela.getFloat("MULTA");
            oFormBaixa.codConta         = rsParcela.getInt("COD_CONTAS");
            oFormBaixa.descricao        = rsParcela.getString("OBSERVACAO");

            if (rsParcela.getString("NATUREZA").toString().equals("A Pagar")){
                oFormBaixa.operacao       = "D";
            }else{
                oFormBaixa.operacao       = "C";
            }

            //Show no jfbaixa extends jdialog
            oFormBaixa.setModal(true);
            oFormBaixa.setVisible(true);

            //atualizar grade
            pesquisarjButtonActionPerformed(null);

        } catch (SQLException ex) {
            Logger.getLogger(jFPessoas.class.getName()).log(Level.SEVERE, null, ex);
        }

    }//GEN-LAST:event_baixarjButtonActionPerformed

    private void filtroSituacaojComboBoxActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_filtroSituacaojComboBoxActionPerformed
        // TODO add your handling code here:
        pessoaParcelajComboBoxActionPerformed(evt);
    }//GEN-LAST:event_filtroSituacaojComboBoxActionPerformed

    /**
    * @param args the command line arguments
    */
    public static void main(String args[]) {
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new jFLivroCaixa().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JFormattedTextField ValorTotaljFormattedTextField;
    private javax.swing.JButton abrirCaixajButton;
    private javax.swing.JSpinner anoReferenciajSpinner;
    private javax.swing.JButton atualizaBancojButton;
    private javax.swing.JButton atualizaCentroCustojButton;
    private javax.swing.JButton atualizaContasParcelajButton;
    private javax.swing.JButton atualizaPessoaParcelajButton;
    private javax.swing.JButton atualizarjButton;
    private javax.swing.JButton baixarjButton;
    private javax.swing.ButtonGroup buttonGroup1;
    private javax.swing.JButton cadastraPessoajButton;
    private javax.swing.JButton cadastrabancojButton;
    private javax.swing.JComboBox centrodeCustosjComboBox;
    private javax.swing.JComboBox contasParcelasjComboBox;
    private javax.swing.JComboBox contasjComboBox;
    private javax.swing.JTabbedPane contasjTabbedPane;
    private javax.swing.JFormattedTextField dataLancamentojFormattedTextField;
    private javax.swing.JButton depositojButton;
    private javax.swing.JRadioButton esteAnojRadioButtonjRadioButton;
    private javax.swing.JRadioButton esteMesjRadioButtonjRadioButton;
    private javax.swing.JButton estornarParcelajButton;
    private javax.swing.JButton estornarjButton;
    private javax.swing.JComboBox filtroNaturezajComboBox;
    private javax.swing.JComboBox filtroSituacaojComboBox;
    private javax.swing.JTable gradeLivroCaixajTable;
    private javax.swing.JTable gradeParcelajTable;
    private javax.swing.JRadioButton hojejRadioButtonjRadioButton;
    private javax.swing.JButton jButton1;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel14;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel10;
    private javax.swing.JPanel jPanel11;
    private javax.swing.JPanel jPanel12;
    private javax.swing.JPanel jPanel13;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JPanel jPanel5;
    private javax.swing.JPanel jPanel6;
    private javax.swing.JPanel jPanel7;
    private javax.swing.JPanel jPanel8;
    private javax.swing.JPanel jPanel9;
    private javax.swing.JRadioButton jRadioButton1;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JToolBar.Separator jSeparator1;
    private javax.swing.JToolBar jToolBar1;
    private javax.swing.JToolBar jToolBar2;
    private javax.swing.JSpinner mesRefjSpinner;
    private javax.swing.JLabel observacaoParcelajLabel;
    private javax.swing.JButton pesquisarjButton;
    private javax.swing.JComboBox pessoaParcelajComboBox;
    private javax.swing.JButton sairjButton;
    private javax.swing.JFormattedTextField saldoAnteriorjFormattedTextField;
    private javax.swing.JFormattedTextField saldoAtualjFormattedTextField;
    private javax.swing.JFormattedTextField saldoTotaljFormattedTextField;
    private javax.swing.JButton saquejButton;
    private javax.swing.JCheckBox todasContasjCheckBox;
    private javax.swing.JCheckBox todasPessoasjCheckBox;
    private javax.swing.JButton transferenciajButton;
    // End of variables declaration//GEN-END:variables

}
